{% load static %}
<!DOCTYPE html>
<html>

<head>
	<!-- Basic Page Info -->
	<meta charset="utf-8">
	<title>profile</title>

	<!-- Site favicon -->

	<!-- Mobile Specific Metas -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<!-- Google Font -->
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
		rel="stylesheet">
	<!-- CSS -->
	<link rel="stylesheet" type="text/css" href="{% static 'adm/vendors/styles/core.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'adm/vendors/styles/icon-font.min.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'adm/src/plugins/cropperjs/dist/cropper.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'adm/vendors/styles/style.css' %}">

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-119386393-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'UA-119386393-1');
	</script>
</head>

<body>

	


	<div class="mobile-menu-overlay"></div>

	<div class="pd-ltr-20 xs-pd-20-10">
		<div class="min-height-200px">
			<div class="page-header">
				<div class="row">
					<div class="col-md-12 col-sm-12">
						<div class="title">
							<h4>Profile</h4>
						</div>
						<nav aria-label="breadcrumb" role="navigation">
							<ol class="breadcrumb">
								<li class="breadcrumb-item"><a href="{% url 'hom' %}">Home</a></li>
								<li class="breadcrumb-item active" aria-current="page">Profile</li>
							</ol>
						</nav>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 mb-30">
					<div class="pd-20 card-box height-100-p">
						<div class="profile-photo">
							<a href="modal" data-toggle="modal" data-target="#modal" class="edit-avatar"><i
									class="fa fa-pencil"></i></a>
							{% if order_prodect.user.img %}
							<img src="{{user.img.url}}" class="border-radius-100 shadow" 
								 alt="">
							{% else %}
							<img src="{% static 'adm/vendors/images/user.png' %}" class="border-radius-100 shadow"
								 alt="">

							{% endif %} <div class="modal fade" id="modal" tabindex="-1" role="dialog"
								aria-labelledby="modalLabel" aria-hidden="true">
								<div class="modal-dialog modal-dialog-centered" role="document">
									<div class="modal-content">
										<div class="modal-body pd-5">
											<div class="img-container">
												<img id="image" src="{% static 'adm/vendors/images/photo2.jpg' %}"
													alt="Picture">
											</div>
										</div>
										<div class="modal-footer">
											<input type="submit" value="Update" class="btn btn-primary">
											<button type="button" class="btn btn-default"
												data-dismiss="modal">Close</button>
										</div>
									</div>
								</div>
							</div>
						</div>

						<h5 class="text-center h5 mb-0">{{user.username}}</h5>
						{% if user.is_superuser %}
							<p class="text-center text-muted font-14">Admin</p>
						{% else %}
						<p class="text-center text-muted font-14">User</p>
						{% endif %}
						<div class="profile-info">
							<h5 class="mb-20 h5 text-blue">Contact Information</h5>
							<ul>
								<li>
									<span>Email Address:</span>
									{{user.email}}
								</li>
								<li>
									<span>Phone Number:</span>
									{{user.phone}}
								</li>
								<li>
									<span>Country:</span>
									{{user.country}}
								</li>
							</ul>
						</div>
					</div>
				</div>
				<div class="col-xl-8 col-lg-8 col-md-8 col-sm-12 mb-30">
					<div class="card-box height-100-p overflow-hidden">
						<div class="profile-tab height-100-p">
							<div class="tab height-100-p">
								<ul class="nav nav-tabs customtab" role="tablist">
									<li class="nav-item">
										<a class="nav-link active" data-toggle="tab" href="#user_info" role="tab">User Info</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" data-toggle="tab" href="#setting" role="tab">Edit Info</a>
									</li>
									<li class="nav-item">
										<a class="nav-link" data-toggle="tab" href="#myordr" role="tab">My Order</a>
									</li>
									
								</ul>
								<div class="tab-content">
									<!-- Timeline Tab start -->
									<div class="tab-pane fade show active" id="user_info" role="tabpanel">
										<div class="pd-20">
											<ul class="profile-edit-list row">
												<li class="weight-500 col-md-12">
													<h4 class="text-blue h5 mb-20">Personal Information</h4>
													<div class="form-group">
														<label>User Name : {{ user.username }}</label>
													</div>
													<div class="form-group">
														<label>Email : {{ user.email }}</label>
													</div>
													<div class="form-group">
														<label>Gender : {{ user.gender }}</label>
													</div>
													<div class="form-group">
														<label>Phone Number : {{ user.phone }}</label>
													</div>
													<div class="form-group">
														<label>Country : {{ user.country }}</label>
													</div>
													<div class="form-group">
														<label>State : {{ user.state }}</label>
													</div>
													<div class="form-group">
														<label>District : {{ user.district }}</label>
													</div>
													<div class="form-group">
														<label>Address : {{ user.address }}</label>
													</div>
												</li>
												
											</ul>
											<article class="card" style="width: 100%;">
												<header class="card-header mb-2">
													<strong class="d-inline-block mr-3">My Addresses</strong>
												</header>
												<div class="row">
													{% if addresses %}
													{% for address in addresses %}
													
													<div class="col-sm-6 mt-2 mb-2">
														<div class="card">
															
															<div class="card-body" style="height: 200px;">
																<div class="row">
																	<div class="col-md-8">
																		<h5 class="card-title mb-0">{{address.full_name}}</h5>
																	</div>
																	<div class="col-md-4" style="display: flex; justify-content:end">
																		<a class="btn btn-outline-danger"  href="{% url 'address_delete' address.id %}">Delete</a>
																	</div>
																</div>
																<p class="card-text mb-0">Address:</p>
																<p class="card-text mb-0">{{address.adrs}}</p>
																<p class="card-text mb-0">{{address.city}}, {{address.district}}, {{address.state}}</p>
																<p class="card-text mb-0">{{address.country}},({{address.pincode}})</p>
																<p class="card-text mb-0">Phone: {{address.phone}},{{address.phone2}}</p>
																<p class="card-text mb-0">Email: {{address.email}}</p>

															</div>
														</div>
													</div>
													{% endfor %}
													{% else %}
													<p class="pb-2" style="padding-left: 30px;">No saved addresses</p>
													{% endif %}
												</div>
											</article>
											<div class="form-group mb-0">
												<a class="nav-link btn btn-outline-primary" data-toggle="tab" href="#address" role="tab">Add Address</a>
											</div>

											
										</div>
									</div>
									<!-- Timeline Tab End -->
									
									<!-- Setting Tab start -->
									<div class="tab-pane fade height-100-p" id="setting" role="tabpanel">
										<div class="profile-setting">
											<form action="{% url 'edit_profile' %}" method="POST">
												{% csrf_token %}
												<ul class="profile-edit-list row">
													<li class="weight-500 col-md-12">
														<h4 class="text-blue h5 mb-20">Edit Your Personal Information</h4>
														<div class="form-group">
															<label>User Name</label>
															<input name="username" value="{{ user.username }}" class="form-control form-control-lg" type="text">
														</div>
														<div class="form-group">
															<label>Email</label>
															<input name="email" value="{{ user.email }}" class="form-control form-control-lg" type="email">
														</div>
														<div class="form-group">
															<label>Gender</label>
															<div class="d-flex">
																<div class="custom-control custom-radio mb-5 mr-20">
																	<input type="radio" id="customRadio4"
																		name="gender" value="Male" class="custom-control-input">
																	<label class="custom-control-label weight-400"
																		for="customRadio4">Male</label>
																</div>
																<div class="custom-control custom-radio mb-5">
																	<input type="radio" id="customRadio5"
																	name="gender" value="Female" class="custom-control-input">
																	<label class="custom-control-label weight-400"
																	for="customRadio5">Female</label>
																</div>
															</div>
														</div>
														<div class="form-group">
															<label>Phone Number</label>
															<input name="phone" value="{{ user.phone }}" class="form-control form-control-lg" type="number">
														</div>
														<div class="form-group">
															<label>Country</label>
															<select class="selectpicker form-control form-control-lg"
																data-style="btn-outline-secondary btn-lg" name="country">
																<option value="{{ user.country }}">{{ user.country }}</option>
																{% if user.country != 'US' %}
																<option value="US">United States</option>
																{% endif %}
																{% if user.country != 'India' %}
																<option value="India">India</option>
																{% endif %}
																{% if user.country != 'UK' %}
																<option value="UK">United Kingdom</option>
																{% endif %}
															</select>
														</div>
														<div class="form-group">
															<label>State</label>
															<input name="state" value="{{ user.state }}" class="form-control form-control-lg" type="text">
														</div>
														<div class="form-group">
															<label>District</label>
															<input name="district" value="{{ user.district }}" class="form-control form-control-lg" type="text">
														</div>
														<div class="form-group">
															<label>Address</label>
															<textarea name="address" value="{{ user.address }}" class="form-control">{{ user.address }}</textarea>
														</div>
														<div class="form-group mb-0">
															<input type="submit" class="btn btn-primary"
																value="Update Information">
														</div>
													</li>
													
												</ul>
											</form>
										</div>
									</div>
									<div class="tab-pane fade height-100-p" id="myordr" role="tabpanel">
										<div class="profile-setting">
											<div class="table-responsive">
												<table class="table nowrap">
													<thead>
														<tr>
															<th class="table-plus datatable-nosort">No.</th>
															<th>Product Name</th>
															<th>Brand</th>
															<th>Quantity</th>
															<th>Status</th>
															<th>Date</th>
															<th></th>
														</tr>
													</thead>
													<tbody>
														{% for order_prodect in order_prodects %}
														<tr>
															<td class="table-plus">{{ forloop.counter }}</td>
															<td>{{order_prodect.prodect.brand}}</td>

															<td>{{order_prodect.prodect.brand}}</td>

															<td>{{order_prodect.quantity}}</td>


															{% if order_prodect.status == 'Placed' %}
															<td style="color: rgb(0, 110, 255);">{{order_prodect.status}}</td>
															{% elif order_prodect.status == 'Shipping' %}
															<td style="color: rgb(255, 196, 0);">{{order_prodect.status}}</td>
															{% elif order_prodect.status == 'Deliverd' %}
															<td style="color: rgb(9, 255, 0);">{{order_prodect.status}}</td>
															{% elif order_prodect.status == 'Cancelled' %}
															<td style="color: red;">{{order_prodect.status}}</td>
															{% elif order_prodect.status == 'Return' %}
															<td style="color: rgb(35, 35, 37);">{{order_prodect.status}}</td>
															{% endif %}
															




															<td>{{order_prodect.created_at}}</td>

															<td class="table-plus">
																<div class="name-avatar d-flex align-items-center">
																	<div class="avatar mr-2 flex-shrink-0">
																		<img src="{{ order_prodect.prodect.img1.url }}"
																			class="border-radius-100 shadow"
																			width="65px" height="65px" alt="">
																	</div>
																</div>
															</td>
															{% if order_prodect.status == "Canceled" or order_prodect.status == "Deliverd" or order_prodect.status == "Return" %}
															{% else %}

															<td>
																<div class="dropdown">
																	<a class="btn btn-link font-24 p-0 line-height-1 no-arrow dropdown-toggle" href="#" role="button" data-toggle="dropdown">
																		<i class="dw dw-more"></i>
																	</a>
																	<div class="dropdown-menu dropdown-menu-right dropdown-menu-icon-list">
																		<a class="dropdown-item" href="{% url 'order_cancel' order_prodect.id %}"><i class="dw dw-edit2"></i> Cancel</a>
																		<a class="dropdown-item" href="{% url 'order_return' order_prodect.id %}"><i class="dw dw-delete-3"></i> Return</a>
																	</div>
																</div>
															</td>


															<!-- <td>
																<div class="container">
																<a href="{% url 'order_cancel' order_prodect.id %}" class="btn btn-danger">Cancel</a>
															</div>
																<a href="{% url 'order_return' order_prodect.id %}" class="btn btn-primary">Return</a>
															</td> -->
															{% endif %}

														</tr>
														{% endfor %}

													</tbody>
												</table>
											</div>
										</div>
									</div>
									<div class="tab-pane fade height-100-p" id="address" role="tabpanel">
										<div class="profile-setting">
											<article class="card mt-3">
												<header class="card-header mb-2">
													<strong class="d-inline-block mr-3">Add Address</strong>
												</header>
							
												<div class="col-md-12">
													<form action="" method="post">
														{% csrf_token %}
							
														<div class="form-row mt-3">
															<div class="form-group col-md-6">
																<label>First Name</label>
																{{ address_form.first_name }}
															</div>
															<div class="form-group col-md-6">
																<label>Last Picture</label>
																{{ address_form.last_name }}
															</div>
														</div>
														<div class="form-row mt-3">
															<div class="form-group col-md-6">
																<label>Phone NO</label>
																{{ address_form.phone }}
															</div>
															<div class="form-group col-md-6">
																<label>Phone NO 2</label>
																{{ address_form.phone2 }}
															</div>
														</div>
														<div class="form-row">
															<div class="form-group col-md-6">
																<label>Address</label>
																{{ address_form.adrs }}
															</div>
															<div class="form-group col-md-6">
																<label>Email</label>
																{{ address_form.email }}
															</div>
														</div>
							
														<div class="form-row">
															<div class="form-group col-md-3">
																<label>City</label>
																{{ address_form.city }}
															</div>
															<div class="form-group col-md-3">
																<label>District</label>
																{{ address_form.district }}
															</div>
															<div class="form-group col-md-3">
																<label>State</label>
																{{ address_form.state }}
															</div>
															<div class="form-group col-md-3">
																<label>Country</label>
																{{ address_form.country }}
															</div>
															<div class="form-group col-md-3">
																<label>Pincode</label>
																{{ address_form.pincode }}
															</div>
														</div>
						
															<div class="row">
																<div class="col-md-6" style="display: flex; justify-content: left; padding-bottom: 1%;">
																	<a href="#user_info" data-toggle="tab"  class="btn btn-outline-danger" >Cancel</a>
																</div>
																<div class="col-md-6" style="display: flex; justify-content: end; padding-bottom: 1%;">
																	<input type="submit" class="btn btn-outline-primary">
																</div>
															</div>
							
													</form>
												</div>
							
											</article>
										</div>
									</div>
									<!-- Setting Tab End -->
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="footer-wrap pd-20 mb-20 card-box">
			######################
		</div>
	</div>
	<!-- js -->
	<script src="{% static 'adm/vendors/scripts/core.js' %}"></script>
	<script src="{% static 'adm/vendors/scripts/script.min.js' %}"></script>
	<script src="{% static 'adm/vendors/scripts/process.js' %}"></script>
	<script src="{% static 'adm/vendors/scripts/layout-settings.js' %}"></script>
	<script src="{% static 'adm/src/plugins/cropperjs/dist/cropper.js' %}"></script>
	<script>
		window.addEventListener('DOMContentLoaded', function () {
			var image = document.getElementById('image');
			var cropBoxData;
			var canvasData;
			var cropper;

			$('#modal').on('shown.bs.modal', function () {
				cropper = new Cropper(image, {
					autoCropArea: 0.5,
					dragMode: 'move',
					aspectRatio: 3 / 3,
					restore: false,
					guides: false,
					center: false,
					highlight: false,
					cropBoxMovable: false,
					cropBoxResizable: false,
					toggleDragModeOnDblclick: false,
					ready: function () {
						cropper.setCropBoxData(cropBoxData).setCanvasData(canvasData);
					}
				});
			}).on('hidden.bs.modal', function () {
				cropBoxData = cropper.getCropBoxData();
				canvasData = cropper.getCanvasData();
				cropper.destroy();
			});
		});
	</script>
</body>

</html>